var Countdown={$el:$(".countdown"),countdown_interval:null,total_seconds:0,init:function(){this.$={days:this.$el.find(".bloc-time.days .figure"),hours:this.$el.find(".bloc-time.hours .figure"),minutes:this.$el.find(".bloc-time.min .figure"),seconds:this.$el.find(".bloc-time.sec .figure")};this.values={days:this.$.days.parent().attr("data-init-value"),hours:this.$.hours.parent().attr("data-init-value"),minutes:this.$.minutes.parent().attr("data-init-value"),seconds:this.$.seconds.parent().attr("data-init-value"),};this.total_minutes=this.values.days*24*60*60+(this.values.hours*24*60)+this.values.minutes;this.count()},count:function(){var c=this,b=this.$.days.eq(0),a=this.$.days.eq(1),h=this.$.hours.eq(0),f=this.$.hours.eq(1),e=this.$.minutes.eq(0),d=this.$.minutes.eq(1),i=this.$.seconds.eq(0),g=this.$.seconds.eq(1);this.countdown_interval=setInterval(function(){if(c.total_seconds>0){--c.values.seconds;if(c.values.minutes>=0&&c.values.seconds<0){c.values.seconds=59;--c.values.minutes}if(c.values.hours>=0&&c.values.minutes<0){c.values.minutes=59;--c.values.hours}c.checkHour(c.values.seconds,b,a);c.checkHour(c.values.hours,h,f);c.checkHour(c.values.minutes,e,d);c.checkHour(c.values.seconds,i,g);--c.total_seconds}else{clearInterval(c.countdown_interval)}},1000)},animateFigure:function(b,f){var d=this,g=b.find(".top"),c=b.find(".bottom"),e=b.find(".top-back"),a=b.find(".bottom-back");e.find("span").html(f);a.find("span").html(f);TweenMax.to(g,0.8,{rotationX:"-180deg",transformPerspective:300,ease:Quart.easeOut,onComplete:function(){g.html(f);c.html(f);TweenMax.set(g,{rotationX:0})}});TweenMax.to(e,0.8,{rotationX:0,transformPerspective:300,ease:Quart.easeOut,clearProps:"all"})},checkHour:function(f,e,d){var c=f.toString().charAt(0),b=f.toString().charAt(1),g=e.find(".top").html(),a=d.find(".top").html();if(f>=10){if(g!==c){this.animateFigure(e,c)}if(a!==b){this.animateFigure(d,b)}}else{if(g!=="0"){this.animateFigure(e,0)}if(a!==c){this.animateFigure(d,c)}}}};Countdown.init();